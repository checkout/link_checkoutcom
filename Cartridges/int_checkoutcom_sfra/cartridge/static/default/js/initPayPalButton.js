!function(){"use strict";var e={5002:function(e){var a=$(".error-message .error-message-text"),r={color:"gold",shape:"rect",layout:"vertical",label:"paypal",tagline:!1};function t(e){try{var a=e.getAttribute("data-paypal-button-config");if(a)return JSON.parse(a).billing}catch(e){return{style:r}}}function n(){a.empty(),$(".error-message").css("display","none")}function o(e){a.empty(),a.text(e.message),a.css("display","block"),$(".error-message").css("display","block"),s()}function s(){$('[id^="paypal-overlay-uid_"]').css("display","none")}var i=function(){return new Promise((function(e,a){$.ajax({url:$("#payPalCreateOrderUrl").val(),type:"POST",success:function(r){return r.success?(n(),$('input[name="dwfrm_billing_payPalForm_ckoPayPalPaymentContextId"]').val(r.id),e(r.partner_metadata.order_id)):(r.error&&(r.status||r.message?o(r):s()),a(r))},error:function(e){a(e);var r=e&&e.responseJSON?e.responseJSON:"";r?o(r):s()}})}))},l=function(){var e=$("#ckoPayPalPaymentContextId").val();return new Promise((function(a,r){$.ajax({type:"GET",url:$("#payPalonApproveUrl").val(),dataType:"text",data:{id:e},success:function(r){var t=JSON.parse(r);if(t&&t.success){a(t),n(),t.response.paymentContext_id=e;var s=JSON.stringify(t.response),i=$('input[name="dwfrm_billing_payPalForm_ckoPayPalData"]'),l=$("#paypal-content .invalid-field-message");i.val(s),""===i.val()&&l.text(window.ckoLang.payPalDataInvalid),$("button.submit-payment").trigger("click")}else o(t)},error:function(e){r(e);var a=e&&e.responseJSON?e.responseJSON:"";a?o(a):s()}})}))};e.exports={initPayPalButton:function(){paypal_sdk.Buttons({createOrder:i,onApprove:l,style:t(document.querySelector(".js_paypal_button_on_billing_form"))}).render("#paypal-button-container")},createPayPalOrder:i}}},a={};!function r(t){var n=a[t];if(void 0!==n)return n.exports;var o=a[t]={exports:{}};return e[t](o,o.exports,r),o.exports}(5002)}();